def linear_regression(array_x,array_y,epsilon,alfa):
    k = 0
    b = 0
    error = 0
    m = len(array_y)

    while(True):
        for i in range(m):
            error += pow((k*array_x[i] + b - array_y[i]),2)

        error = error / (2*m)

        k_ = 0
        b_ = 0

        for i in range(m):
            k_ += array_x[i]*(k*array_x[i] + b - array_y[i])
            b_ += k*array_x[i] + b - array_y[i]

        k = k - (alfa/m) * k_
        b = b - (alfa/m) * b_
        print("k is "+ str(k) +" b is "+ str(b) +" error is " + str(error))
        #print("delta k = "+str((alfa/m) * k_)+" delta b = " +str((alfa/m) * b_))

        if( abs((alfa/m) * k_) < epsilon and abs((alfa/m) * b_ )< epsilon ):
            break

    return k,b


array_x  = [0.        , 0.01010101, 0.02020202, 0.03030303, 0.04040404,
       0.05050505, 0.06060606, 0.07070707, 0.08080808, 0.09090909,
       0.1010101 , 0.11111111, 0.12121212, 0.13131313, 0.14141414,
       0.15151515, 0.16161616, 0.17171717, 0.18181818, 0.19191919,
       0.2020202 , 0.21212121, 0.22222222, 0.23232323, 0.24242424,
       0.25252525, 0.26262626, 0.27272727, 0.28282828, 0.29292929,
       0.3030303 , 0.31313131, 0.32323232, 0.33333333, 0.34343434,
       0.35353535, 0.36363636, 0.37373737, 0.38383838, 0.39393939,
       0.4040404 , 0.41414141, 0.42424242, 0.43434343, 0.44444444,
       0.45454545, 0.46464646, 0.47474747, 0.48484848, 0.49494949,
       0.50505051, 0.51515152, 0.52525253, 0.53535354, 0.54545455,
       0.55555556, 0.56565657, 0.57575758, 0.58585859, 0.5959596 ]


array_y = [20.14901425, 19.97872273, 20.2347106 , 20.51751502, 20.01056207,
       20.03076901, 20.59497597, 20.37164456, 20.02077385, 20.34458619,
       20.06299489, 20.0825033 , 20.31501292, 19.68864219, 19.76535293,
       20.13434404, 20.01938299, 20.43770854, 20.09122914, 19.96014727,
       20.84373503, 20.35650953, 20.46470291, 20.03722201, 20.32153367,
       20.53832728, 20.17995445, 20.65816395, 20.38546496, 20.49835046,
       20.42554862, 21.18194608, 20.64241548, 20.34935339, 20.93363216,
       20.34081761, 20.78993181, 20.15957371, 20.36922095, 20.84693716,
       21.02962078, 20.87969331, 20.81379036, 20.77835576, 20.44533229,
       20.69313765, 20.7911013 , 21.26663162, 21.07278246, 20.46098694,
       21.1073262 , 20.91477835, 20.84742845, 21.25420996, 21.40020895,
       21.39049515, 20.87954787, 21.05875144, 21.2710962 , 21.48458273]

#linear_regression(array_x,array_y,0.0001,0.1)
koeffs = linear_regression(array_x,array_y,0.00001,0.3)
print("kk ooo ff ss is  ")
print(koeffs)
